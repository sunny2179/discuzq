(window.webpackJsonp=window.webpackJsonp||[]).push([[27,10,28],{244:function(t,e,n){"use strict";n(27);e.a=function(t){return t[0]===t[1]&&"0"===t[0]&&(t=t.substr(0,1)),t.replace(/[^\d.]/g,"").replace(/\.{2,}/g,".").replace(".","$#$").replace(/\./g,"").replace("$#$",".").replace(/^(-)*(\d+)\.(\d\d).*$/,"$1$2.$3").replace(/^\./g,"")}},245:function(t,e,n){t.exports={methods:{handleAttachmentError:function(t){if(t&&t.message){var e=JSON.parse(t.message).errors,n=e[0].detail?e[0].detail[0]:e[0].code,r=e[0].detail?e[0].detail[0]:this.$t("core.".concat(n));this.$message.error(r)}else this.$message.error(this.$t("post.imageUploadFail"))}}}},47:function(t,e){t.exports={name:"isLogin",methods:{isLogin:function(){return!!this.$store.state.user.info.id||(this.$message.error(this.$t("user.pleaseLogin")),this.$router.push("/pages/user/login"),!1)}}}},67:function(t,e,n){n(9);var r=n(285);t.exports={mixins:[r],computed:{forums:function(){return this.$store.state.site.info.attributes||{}}},methods:{checkCaptcha:function(t){var e=this;return new Promise((function(n,r){if(e.forums&&e.forums.qcloud&&e.forums.qcloud.qcloud_captcha)return new TencentCaptcha(e.forums.qcloud.qcloud_captcha_app_id,(function(e){0===e.ret?(t.captcha_rand_str=e.randstr,t.captcha_ticket=e.ticket,n(t)):r(e)})).show();n(t)}))}}}},76:function(t,e,n){n(15);var r=n(759);t.exports={methods:{createAttachmentsData:function(t){return t.map((function(t){var e={};return e.id=t.id,e.type="attachments",e}))},publishPostResource:function(t,e){var n,o,c=this.createAttachmentsData(e.imageList),h=this.createAttachmentsData(e.attachedList);(c.length>0||h.length>0)&&(t._jv.relationships.attachments={},t._jv.relationships.attachments.data=[],(n=t._jv.relationships.attachments.data).push.apply(n,r(c)),(o=t._jv.relationships.attachments.data).push.apply(o,r(h)));return t},publishThreadResource:function(t,e){return e.videoList.length>0&&(t.file_id=this.post.videoList[0].id,t.file_name=this.post.videoList[0].name),t},publishPayment:function(t,e){return t.price=e.isPaid?e.price:0,t.free_words=e.isPaid?e.freeWords:0,t},publishLocation:function(t,e){return t.location=e.location?e.location:"",t.latitude=e.latitude?e.latitude:"",t.longitude=e.longitude?e.longitude:"",t},deleteAttachmentsAfterEdit:function(t,e){var n=this,r=e.map((function(t){return t.id}));t.map((function(t){return t._jv.id})).filter((function(t){return r.indexOf(t)<0})).forEach((function(t){n.$store.dispatch("jv/delete",["/attachments/".concat(t),{}]).catch((function(){return""}))}))}}}}}]);